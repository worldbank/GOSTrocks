<!DOCTYPE html><html lang="en" class="" style="scroll-padding:60px"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>GOSTrocks Primer - GOSTrocks!</title><meta property="og:title" content="GOSTrocks Primer - GOSTrocks!"/><meta name="generator" content="mystmd"/><meta name="keywords" content=""/><meta name="image" content="GOSTrocks/build/7e2db436150c38a00650f96925aa5581.svg"/><meta property="og:image" content="GOSTrocks/build/7e2db436150c38a00650f96925aa5581.svg"/><link rel="stylesheet" href="GOSTrocks/build/_assets/app-AIT5GAEP.css"/><link rel="stylesheet" href="GOSTrocks/build/_assets/thebe-core-VKVHG5VY.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jupyter-matplotlib@0.11.3/css/mpl_widget.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css" integrity="sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ" crossorigin="anonymous"/><link rel="icon" href="GOSTrocks/favicon.ico"/><link rel="stylesheet" href="GOSTrocks/myst-theme.css"/><script>
  const savedTheme = localStorage.getItem("myst:theme");
  const theme = window.matchMedia("(prefers-color-scheme: light)").matches ? 'light' : 'dark';
  const classes = document.documentElement.classList;
  const hasAnyTheme = classes.contains('light') || classes.contains('dark');
  if (!hasAnyTheme) classes.add(savedTheme ?? theme);
</script></head><body class="m-0 transition-colors duration-500 bg-white dark:bg-stone-900"><div class="myst-skip-to-article fixed top-1 left-1 h-[0px] w-[0px] focus-within:z-40 focus-within:h-auto focus-within:w-auto bg-white overflow-hidden focus-within:p-2 focus-within:ring-1" aria-label="skip to content options"><a href="#skip-to-frontmatter" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article frontmatter</a><a href="#skip-to-article" class="myst-skip-to-link block px-2 py-1 text-black underline">Skip to article content</a></div><dialog id="myst-no-css" style="position:fixed;left:0px;top:0px;width:100vw;height:100vh;font-size:4rem;padding:1rem;color:black;background:white"><strong>Site not loading correctly?</strong><p>This may be due to an incorrect <code>BASE_URL</code> configuration. See<!-- --> <a href="https://mystmd.org/guide/deployment#deploy-base-url">the MyST Documentation</a> <!-- -->for reference.</p><script>
    (() => {
            // Test for has-styling variable set by the MyST stylesheet
            const node = document.currentScript.parentNode;
            const hasCSS = window.getComputedStyle(node).getPropertyValue("--has-styling");
            if (hasCSS === ""){
                    node.showModal();
            }

    })()
</script></dialog><div class="myst-top-nav bg-white/80 backdrop-blur dark:bg-stone-900/80 shadow dark:shadow-stone-700 p-3 md:px-8 sticky w-screen top-0 z-30 h-[60px]"><nav class="myst-top-nav-bar flex items-center justify-between flex-nowrap max-w-[1440px] mx-auto"><div class="flex flex-row xl:min-w-[19.5rem] mr-2 sm:mr-7 justify-start items-center shrink-0"><div class="block xl:hidden"><button class="myst-top-nav-menu-button flex items-center justify-center border-stone-400 text-stone-800 hover:text-stone-900 dark:text-stone-200 hover:dark:text-stone-100 w-10 h-10"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem"><path fill-rule="evenodd" d="M3 6.75A.75.75 0 0 1 3.75 6h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 6.75ZM3 12a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 12Zm0 5.25a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd"></path></svg><span class="sr-only">Open Menu</span></button></div><a class="myst-home-link flex items-center ml-3 dark:text-white w-fit md:ml-5 xl:ml-7" href="/GOSTrocks/"><div class="myst-home-link-logo mr-3 flex items-center dark:bg-white dark:rounded px-1"><img src="GOSTrocks/build/logo-a6420df6f6f2e7e663381e87d08f3ee5.png" class="h-9" height="2.25rem"/></div><span class="text-md sm:text-xl tracking-tight sm:mr-5 sr-only">Made with MyST</span></a></div><div class="flex items-center flex-grow w-auto"><div class="flex-grow hidden text-md lg:block"></div><div class="flex-grow block"></div><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-:R75cp:" data-state="closed" class="myst-search-bar flex items-center h-10 aspect-square sm:w-64 text-left text-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-50 dark:bg-gray-700 myst-search-bar-disabled hover:ring-blue-500 dark:hover:ring-blue-500 hover:border-blue-500 dark:hover:border-blue-500"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="p-2.5 h-10 w-10 aspect-square"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z" clip-rule="evenodd"></path></svg><span class="myst-search-text-placeholder hidden sm:block grow">Search</span><div aria-hidden="true" class="myst-search-shortcut items-center hidden mx-1 font-mono text-sm text-gray-600 sm:flex gap-x-1"><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none hide-mac">CTRL</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none show-mac">⌘</kbd><kbd class="px-2 py-1 border border-gray-300 dark:border-gray-600 rounded-md shadow-[0px_2px_0px_0px_rgba(0,0,0,0.08)] dark:shadow-none ">K</kbd><script>
;(() => {
const script = document.currentScript;
const root = script.parentElement;

const isMac = /mac/i.test(
      window.navigator.userAgentData?.platform ?? window.navigator.userAgent,
    );
root.querySelectorAll(".hide-mac").forEach(node => {node.classList.add(isMac ? "hidden" : "block")});
root.querySelectorAll(".show-mac").forEach(node => {node.classList.add(!isMac ? "hidden" : "block")});
})()</script></div></button><button class="myst-theme-button theme rounded-full aspect-square border border-stone-700 dark:border-white hover:bg-neutral-100 border-solid overflow-hidden text-stone-700 dark:text-white hover:text-stone-500 dark:hover:text-neutral-800 w-10 h-10 mx-3" title="Toggle theme between light and dark mode" aria-label="Toggle theme between light and dark mode"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-moon-icon h-full w-full p-0.5 hidden dark:block"><path fill-rule="evenodd" d="M9.528 1.718a.75.75 0 0 1 .162.819A8.97 8.97 0 0 0 9 6a9 9 0 0 0 9 9 8.97 8.97 0 0 0 3.463-.69.75.75 0 0 1 .981.98 10.503 10.503 0 0 1-9.694 6.46c-5.799 0-10.5-4.7-10.5-10.5 0-4.368 2.667-8.112 6.46-9.694a.75.75 0 0 1 .818.162Z" clip-rule="evenodd"></path></svg><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" class="myst-theme-sun-icon h-full w-full p-0.5 dark:hidden"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"></path></svg></button><div class="block sm:hidden"></div><div class="hidden sm:block"></div></div></nav></div><div class="myst-primary-sidebar fixed xl:article-grid grid-gap xl:w-screen xl:pointer-events-none overflow-auto max-xl:min-w-[300px] hidden z-10" style="top:60px"><div class="myst-primary-sidebar-pointer pointer-events-auto xl:col-margin-left flex-col overflow-hidden hidden xl:flex"><div class="myst-primary-sidebar-nav flex-grow py-6 overflow-y-auto primary-scrollbar"><nav aria-label="Navigation" class="myst-primary-sidebar-topnav overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px] lg:hidden"><div class="w-full px-1 dark:text-white font-medium"></div></nav><div class="my-3 border-b-2 lg:hidden"></div><nav aria-label="Table of Contents" class="myst-primary-sidebar-toc flex-grow overflow-y-hidden transition-opacity ml-3 xl:ml-0 mr-3 max-w-[350px]"><div class="myst-toc w-full px-1 dark:text-white"><a title="GOSTrocks!" class="block break-words focus:outline outline-blue-200 outline-2 rounded myst-toc-item p-2 my-1 rounded-lg hover:bg-slate-300/30 font-bold" href="/GOSTrocks/">GOSTrocks!</a><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Function Reference" class="block break-words rounded py-2 grow cursor-pointer">Function Reference</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rmpsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rmpsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><div title="Examples" class="block break-words rounded py-2 grow cursor-pointer">Examples</div><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:Rupsp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:Rupsp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div><div data-state="closed" class="w-full"><div class="myst-toc-item flex flex-row w-full gap-2 px-2 my-1 text-left rounded-lg outline-none hover:bg-slate-300/30"><a title="Contributing" class="block break-words focus:outline outline-blue-200 outline-2 rounded py-2 grow" href="/GOSTrocks/contributing">Contributing</a><button class="self-center flex-none rounded-md group hover:bg-slate-300/30 focus:outline outline-blue-200 outline-2" aria-label="Open Folder" type="button" aria-controls="radix-:R16psp:" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" data-slot="icon" class="transition-transform duration-300 group-data-[state=open]:rotate-90 text-text-slate-700 dark:text-slate-100" height="1.5rem" width="1.5rem"><path fill-rule="evenodd" d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 0 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z" clip-rule="evenodd"></path></svg></button></div><div data-state="closed" id="radix-:R16psp:" hidden="" class="pl-3 pr-[2px] collapsible-content"></div></div></div></nav></div><div class="myst-primary-sidebar-footer flex-none py-6 transition-all duration-700 translate-y-6 opacity-0"><div class="article footer myst-primary-sidebar-footer"></div></div></div></div><main class="article-grid grid-gap"><article class="article-grid subgrid-gap col-screen article content"><div class="hidden"></div><div id="skip-to-frontmatter" aria-label="article frontmatter" class="myst-fm-block mb-8 pt-9"><div class="myst-fm-block-header flex items-center mb-5 h-6 text-sm font-light"><div class="flex-grow"></div><div class="myst-fm-block-badges"><a href="https://github.com/worldbank/GOSTrocks" title="GitHub Repository: worldbank/GOSTrocks" target="_blank" rel="noopener noreferrer" class="myst-fm-github-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="1.25rem" height="1.25rem" class="myst-fm-github-icon inline-block mr-1 opacity-60 hover:opacity-100"><path d="M12 2.5c-5.4 0-9.8 4.4-9.8 9.7 0 4.3 2.8 8 6.7 9.2.5.1.7-.2.7-.5v-1.8c-2.4.5-3.1-.6-3.3-1.1-.1-.3-.6-1.1-1-1.4-.3-.2-.8-.6 0-.6s1.3.7 1.5 1c.9 1.5 2.3 1.1 2.8.8.1-.6.3-1.1.6-1.3-2.2-.2-4.4-1.1-4.4-4.8 0-1.1.4-1.9 1-2.6-.1-.2-.4-1.2.1-2.6 0 0 .8-.3 2.7 1 .8-.2 1.6-.3 2.4-.3.8 0 1.7.1 2.4.3 1.9-1.3 2.7-1 2.7-1 .5 1.3.2 2.3.1 2.6.6.7 1 1.5 1 2.6 0 3.7-2.3 4.6-4.4 4.8.4.3.7.9.7 1.8V21c0 .3.2.6.7.5 3.9-1.3 6.6-4.9 6.6-9.2 0-5.4-4.4-9.8-9.8-9.8z"></path></svg></a></div><a href="https://github.com/worldbank/GOSTrocks/edit/main/docs/examples/GOSTrocks_Usage.ipynb" title="Edit This Page" target="_blank" rel="noopener noreferrer" class="myst-fm-edit-link text-inherit hover:text-inherit"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-edit-icon inline-block mr-1 opacity-60 hover:opacity-100"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"></path></svg></a><div class="myst-fm-downloads-dropdown relative flex inline-block mx-1 grow-0" data-headlessui-state=""><button class="myst-fm-downloads-button relative ml-2 -mr-1" id="headlessui-menu-button-:Rs8ucp:" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><span class="sr-only">Downloads</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.25rem" height="1.25rem" class="myst-fm-downloads-icon"><title>Download</title><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></button></div></div><h1 class="myst-fm-block-title mb-0">GOSTrocks Primer</h1></div><div class="block my-10 lg:sticky lg:z-10 lg:h-0 lg:pt-0 lg:my-0 lg:ml-10 lg:col-margin-right" style="top:60px"><nav></nav></div><div id="skip-to-article"></div><div id="FzMO9p1MMa" class="myst-jp-nb-block relative group/block"><p>GOSTrocks is an internal sandbox repository that contains commonly used geospatial functions and operations. This notebooks demonstrates the usage of selected functions.</p><p>The repository also contains customized code to process specific datasets (GHSL, OpenStreetMap, Nighttime Lights, Fathom). This code is in constant development as project requirements evolve over time.</p></div><div id="IiGRZa89Y4" class="myst-jp-nb-block relative group/block"><p><a target="_blank" rel="noreferrer" href="https://colab.research.google.com/github/worldbank/GOSTrocks/blob/glevin_review/docs/examples/GOSTrocks_Usage.ipynb" class=""><img id="nsQH9DbfmV" style="margin-left:auto;margin-right:auto" src="GOSTrocks/build/7e2db436150c38a00650f96925aa5581.svg" alt="Open in Colab" data-canonical-url="https://colab.research.google.com/assets/colab-badge.svg" class=""/></a></p></div><div id="Cg22jtihS3" class="myst-jp-nb-block relative group/block"><h2 id="installation" class="relative group"><span class="heading-text">Installation</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#installation" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="aEVAEDeNzY" class="myst-jp-nb-block relative group/block"><h3 id="from-pypi" class="relative group"><span class="heading-text">From PyPI</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#from-pypi" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="TVujxjUDh2" class="myst-jp-nb-block relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">pip install GOSTrocks</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="lyQgWJy4nx" class="myst-jp-nb-block relative group/block"><h3 id="from-source" class="relative group"><span class="heading-text">From Source</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#from-source" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="UkQLmDWOJc" class="myst-jp-nb-block relative group/block"><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 bg-stone-200/10"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-text" style="white-space:pre">git clone https://github.com/worldbank/GOSTrocks.git
cd GOSTrocks
pip install .</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div></div><div id="gusu2XNKQ4" class="myst-jp-nb-block relative group/block"><h2 id="import-functions" class="relative group"><span class="heading-text">Import Functions</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#import-functions" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="pMbj8Y4SoC" class="myst-jp-nb-block relative group/block"><p>GOSTrocks is broken down into modules of functions that share common elements.</p></div><div id="OLzO4lZodc" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import GOSTrocks.dataMisc as dMisc  # search and download specific datasets
import GOSTrocks.rasterMisc as rMisc  # Raster tools!</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Jl70V6W0cBgZc6z7hpmoV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="QL5L8Cpdcq" class="myst-jp-nb-block relative group/block"><h2 id="raster-example" class="relative group"><span class="heading-text">Raster Example</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#raster-example" title="Link to this Section" aria-label="Link to this Section">¶</a></h2></div><div id="wTT3TjAvE5" class="myst-jp-nb-block relative group/block"><p>One of the most recurring workflows is to clip and combine raster data from different sources.</p><p>Here, we work with population data from WorldPop, and a friction surface from the Malaria Atlas Project, using Ghana as our area of interest.</p><p>They are both global datasets with ~1km resolution, so they both need to be clipped and standardized for analysis.</p><p>We will use administrative boundaries from the GeoBoundaries API.</p></div><div id="Dp4jtJstLq" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">import os
from os.path import join, exists
import urllib.request

import rasterio as rio
from rasterio.plot import show

import matplotlib.pyplot as plt
import matplotlib.colors as colors</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="iZxZzD7Dr-eplS8Gb3zv4" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="croY5HFqFR" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">country = &quot;Ghana&quot;
iso = &quot;GHA&quot;</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="S1ot55IkMqHqa5baIhjfI" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="tCdvTlBhKR" class="myst-jp-nb-block relative group/block"><h3 id="get-boundaries" class="relative group"><span class="heading-text">Get Boundaries</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#get-boundaries" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="idf7d5GJAA" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">dMisc.get_geoboundaries?</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="A_dpEWhfA9LsCVvkyZVmy" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span style="color:rgb(187, 0, 0)">Signature:</span><span>
</span><span>dMisc</span><span style="color:rgb(0, 0, 187)">.</span><span>get_geoboundaries</span><span style="color:rgb(0, 0, 187)">(</span><span>
</span><span>    </span><span>iso3</span><span style="color:rgb(0, 0, 187)">,</span><span>
</span><span>    </span><span>level</span><span style="color:rgb(0, 0, 187)">,</span><span>
</span><span>    </span><span>geo_api</span><span style="color:rgb(0, 0, 187)">=</span><span style="color:rgb(0, 0, 187)">&#x27;https://www.geoboundaries.org/api/current/gbOpen/{iso3}/{adm}/&#x27;</span><span style="color:rgb(0, 0, 187)">,</span><span>
</span><span style="color:rgb(0, 0, 187)">)</span><span>
</span><span style="color:rgb(187, 0, 0)">Docstring:</span><span>
Download boundaries dataset from geobounadries

Parameters
----------
iso3 : bool
    ISO3 code of country to download
level : str
    Admin code to download in format of &quot;ADM1&quot; or &quot;ADM2&quot;
geo_api : str, optional
    by default &quot;https://www.geoboundaries.org/api/current/gbOpen/{iso3}/{adm}/&quot;

Returns
-------
gpd.GeoDataFrame
    spatial data representing the administrative boundaries
</span><span style="color:rgb(187, 0, 0)">File:</span><span>      ~/Documents/WorldBank/GOSTrocks/src/GOSTrocks/dataMisc.py
</span><span style="color:rgb(187, 0, 0)">Type:</span><span>      function</span></code></pre></div></div></div></div><div id="NLsM6aTEiF" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gdf = dMisc.get_geoboundaries(iso, level=&quot;ADM0&quot;)
gdf.plot()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="-v_yxefdSuUbGbbdsW-Ga" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>&lt;Axes: &gt;</span></code></div><div data-name="safe-output-image"><img src="GOSTrocks/build/6eb87cdc77bcb9310180dcc102e8b595.png" alt="&lt;Figure size 640x480 with 1 Axes&gt;"/></div></div></div><div id="LOfdV2kKxW" class="myst-jp-nb-block relative group/block"><h3 id="download-population-data" class="relative group"><span class="heading-text">Download Population Data</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#download-population-data" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="hdjLuJEebz" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">wp_url = f&quot;https://data.worldpop.org/GIS/Population/Global_2000_2020_1km/2020/{iso.upper()}/{iso.lower()}_ppp_2020_1km_Aggregated.tif&quot;
wp_url</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="FTRHyVNZesmYx97zBmJIf" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>&#x27;https://data.worldpop.org/GIS/Population/Global_2000_2020_1km/2020/GHA/gha_ppp_2020_1km_Aggregated.tif&#x27;</span></code></div></div></div><div id="Re3G9BdK14" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">wp_path = join(
    &quot;..&quot;, &quot;data&quot;, f&quot;{iso}_ppp_2020_1km_Aggregated_UNadj.tif&quot;
)  # Download from link above
if not exists(wp_path):
    urllib.request.urlretrieve(wp_url, wp_path)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="ZcruIL9SbbvKuNo7niTnp" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="Iy2HNW151b" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">src_pop = rio.open(wp_path)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="LiRgz3RAjwMyD8ITd5SWX" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="yLYvGzwhr3" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 1, figsize=(8, 8))
show(src_pop, norm=colors.PowerNorm(gamma=0.5), cmap=&quot;viridis&quot;, ax=ax)
plt.axis(&quot;off&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="SLFBx7oSe1MMDWk4Ut-TN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>(np.float64(-3.251249987361092),
 np.float64(1.190416661538908),
 np.float64(4.732916852582885),
 np.float64(11.174583493482885))</span></code></div><div data-name="safe-output-image"><img src="GOSTrocks/build/d2c03c81f1e4fa13de08162a37813e6b.png" alt="&lt;Figure size 800x800 with 1 Axes&gt;"/></div></div></div><div id="K2AWhGtcHI" class="myst-jp-nb-block relative group/block"><h3 id="clip-global-friction-surface" class="relative group"><span class="heading-text">Clip Global Friction Surface</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#clip-global-friction-surface" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="Vc01xT9YMx" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">gfs_path = &quot;/Users/glevin/Documents/WorldBank/GOSTrocks/2020_motorized_friction_surface.geotiff&quot;
src_travel = rio.open(gfs_path)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="fyHogcNt5H4_LWAFdmfZd" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="IPSjFQYnMR" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre"># fig, ax = plt.subplots(1, 1, figsize=(8, 8))
# show(src_travel, norm=colors.PowerNorm(gamma=0.2), cmap=&quot;magma&quot;, ax=ax)
# plt.axis(&quot;off&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="UFaVCK2cAGbRtYBK8eTDj" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-error"><div><pre class="myst-jp-error-output text-sm font-thin font-system jupyter-error"><code><span style="color:rgb(187, 0, 0)">---------------------------------------------------------------------------</span><span>
</span><span style="color:rgb(187, 0, 0)">KeyboardInterrupt</span><span>                         Traceback (most recent call last)
Cell </span><span style="color:rgb(0, 187, 0)">In[12], line 2</span><span>
</span><span style="color:rgb(0, 187, 0);font-weight:bold">      1</span><span> fig, ax </span><span style="color:rgb(undefined, undefined, undefined)">=</span><span> plt</span><span style="color:rgb(undefined, undefined, undefined)">.</span><span>subplots(</span><span style="color:rgb(undefined, undefined, undefined)">1</span><span>, </span><span style="color:rgb(undefined, undefined, undefined)">1</span><span>, figsize</span><span style="color:rgb(undefined, undefined, undefined)">=</span><span>(</span><span style="color:rgb(undefined, undefined, undefined)">8</span><span>, </span><span style="color:rgb(undefined, undefined, undefined)">8</span><span>))
</span><span style="color:rgb(0, 187, 0)">----&gt; 2</span><span> </span><span style="background-color:rgb(187, 187, 0)">show</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">src_travel</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">norm</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">=</span><span style="background-color:rgb(187, 187, 0)">colors</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">.</span><span style="background-color:rgb(187, 187, 0)">PowerNorm</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0)">gamma</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">=</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">0.2</span><span style="background-color:rgb(187, 187, 0)">)</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">cmap</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">=</span><span style="background-color:rgb(187, 187, 0);color:rgb(175, 0, 0)">&quot;</span><span style="background-color:rgb(187, 187, 0);color:rgb(175, 0, 0)">magma</span><span style="background-color:rgb(187, 187, 0);color:rgb(175, 0, 0)">&quot;</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">ax</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">=</span><span style="background-color:rgb(187, 187, 0)">ax</span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0);font-weight:bold">      3</span><span> plt</span><span style="color:rgb(undefined, undefined, undefined)">.</span><span>axis(</span><span style="color:rgb(175, 0, 0)">&quot;</span><span style="color:rgb(175, 0, 0)">off</span><span style="color:rgb(175, 0, 0)">&quot;</span><span>)

File </span><span style="color:rgb(0, 187, 0)">/opt/homebrew/Caskroom/miniconda/base/envs/gostrocks/lib/python3.10/site-packages/rasterio/plot.py:90</span><span>, in </span><span style="color:rgb(0, 187, 187)">show</span><span style="color:rgb(0, 0, 187)">(source, with_bounds, contour, contour_label_kws, ax, title, transform, adjust, **kwargs)</span><span>
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     87</span><span>     kwargs[</span><span style="color:rgb(175, 0, 0)">&#x27;</span><span style="color:rgb(175, 0, 0)">extent</span><span style="color:rgb(175, 0, 0)">&#x27;</span><span>] </span><span style="color:rgb(undefined, undefined, undefined)">=</span><span> plotting_extent(source)
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     89</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">if</span><span> source</span><span style="color:rgb(undefined, undefined, undefined)">.</span><span>count </span><span style="color:rgb(undefined, undefined, undefined)">==</span><span> </span><span style="color:rgb(undefined, undefined, undefined)">1</span><span>:
</span><span style="color:rgb(0, 187, 0)">---&gt; 90</span><span>     arr </span><span style="color:rgb(undefined, undefined, undefined)">=</span><span> </span><span style="background-color:rgb(187, 187, 0)">source</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">.</span><span style="background-color:rgb(187, 187, 0)">read</span><span style="background-color:rgb(187, 187, 0)">(</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">1</span><span style="background-color:rgb(187, 187, 0)">,</span><span style="background-color:rgb(187, 187, 0)"> </span><span style="background-color:rgb(187, 187, 0)">masked</span><span style="background-color:rgb(187, 187, 0);color:rgb(undefined, undefined, undefined)">=</span><span style="background-color:rgb(187, 187, 0);color:rgb(0, 135, 0);font-weight:bold">True</span><span style="background-color:rgb(187, 187, 0)">)</span><span>
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     91</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">else</span><span>:
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     92</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">try</span><span>:
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     93</span><span>         </span><span style="color:rgb(95, 135, 135);font-style:italic"># Lookup table for the color space in the source file.</span><span>
</span><span style="color:rgb(0, 187, 0);font-weight:bold">     94</span><span>         </span><span style="color:rgb(95, 135, 135);font-style:italic"># This will allow us to re-order it to RGB if needed</span><span>

File </span><span style="color:rgb(0, 187, 0)">rasterio/_io.pyx:651</span><span>, in </span><span style="color:rgb(0, 187, 187)">rasterio._io.DatasetReaderBase.read</span><span style="color:rgb(0, 0, 187)">()</span><span>

File </span><span style="color:rgb(0, 187, 0)">rasterio/_io.pyx:966</span><span>, in </span><span style="color:rgb(0, 187, 187)">rasterio._io.DatasetReaderBase._read</span><span style="color:rgb(0, 0, 187)">()</span><span>

File </span><span style="color:rgb(0, 187, 0)">rasterio/_io.pyx:271</span><span>, in </span><span style="color:rgb(0, 187, 187)">rasterio._io.io_multi_mask</span><span style="color:rgb(0, 0, 187)">()</span><span>

File </span><span style="color:rgb(0, 187, 0)">/opt/homebrew/Caskroom/miniconda/base/envs/gostrocks/lib/python3.10/contextlib.py:139</span><span>, in </span><span style="color:rgb(0, 187, 187)">_GeneratorContextManager.__exit__</span><span style="color:rgb(0, 0, 187)">(self, typ, value, traceback)</span><span>
</span><span style="color:rgb(0, 187, 0);font-weight:bold">    136</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">except</span><span> </span><span style="color:rgb(215, 95, 95);font-weight:bold">StopIteration</span><span>:
</span><span style="color:rgb(0, 187, 0);font-weight:bold">    137</span><span>         </span><span style="color:rgb(0, 135, 0);font-weight:bold">raise</span><span> </span><span style="color:rgb(215, 95, 95);font-weight:bold">RuntimeError</span><span>(</span><span style="color:rgb(175, 0, 0)">&quot;</span><span style="color:rgb(175, 0, 0)">generator didn</span><span style="color:rgb(175, 0, 0)">&#x27;</span><span style="color:rgb(175, 0, 0)">t yield</span><span style="color:rgb(175, 0, 0)">&quot;</span><span>) </span><span style="color:rgb(0, 135, 0);font-weight:bold">from</span><span style="color:rgb(undefined, undefined, undefined)"> </span><span style="color:rgb(0, 135, 0);font-weight:bold">None</span><span>
</span><span style="color:rgb(0, 187, 0)">--&gt; 139</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">def</span><span style="color:rgb(undefined, undefined, undefined)"> </span><span style="color:rgb(0, 0, 255)">__exit__</span><span>(</span><span style="color:rgb(0, 135, 0)">self</span><span>, typ, value, traceback):
</span><span style="color:rgb(0, 187, 0);font-weight:bold">    140</span><span>     </span><span style="color:rgb(0, 135, 0);font-weight:bold">if</span><span> typ </span><span style="color:rgb(175, 0, 255);font-weight:bold">is</span><span> </span><span style="color:rgb(0, 135, 0);font-weight:bold">None</span><span>:
</span><span style="color:rgb(0, 187, 0);font-weight:bold">    141</span><span>         </span><span style="color:rgb(0, 135, 0);font-weight:bold">try</span><span>:

</span><span style="color:rgb(187, 0, 0)">KeyboardInterrupt</span><span>: </span></code></pre></div></div><div data-name="safe-output-image"><img src="GOSTrocks/build/ab5f1c4612f469f4be57a2f3bfaba849.png" alt="&lt;Figure size 800x800 with 1 Axes&gt;"/></div></div></div><div id="SJR7Htsjoa" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">rMisc.clipRaster?</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="B35o8CeeYw8wDYL8khaFq" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span style="color:rgb(187, 0, 0)">Signature:</span><span> </span><span>rMisc</span><span style="color:rgb(0, 0, 187)">.</span><span>clipRaster</span><span style="color:rgb(0, 0, 187)">(</span><span>inR</span><span style="color:rgb(0, 0, 187)">,</span><span> </span><span>inD</span><span style="color:rgb(0, 0, 187)">,</span><span> </span><span>outFile</span><span style="color:rgb(0, 0, 187)">=</span><span style="color:rgb(0, 187, 0)">None</span><span style="color:rgb(0, 0, 187)">,</span><span> </span><span>crop</span><span style="color:rgb(0, 0, 187)">=</span><span style="color:rgb(0, 187, 0)">True</span><span style="color:rgb(0, 0, 187)">)</span><span>
</span><span style="color:rgb(187, 0, 0)">Docstring:</span><span>
Clip input raster to provided geodataframe

Parameters
----------
inR : rasterio.DatasetReader
    Input raster to clip
inD : geopandas.GeoDataFrame
    GeoDataFrame containing the clipping geometry
outFile : str, optional
    File to write the clipped raster to, by default None
crop : bool, optional
    Whether to crop the raster to the unary_union of the GeoDataFrame (True) or to the bounding box (False), by default True

Returns
-------
tuple
    A tuple containing the clipped raster and its metadata.
</span><span style="color:rgb(187, 0, 0)">File:</span><span>      ~/Documents/WorldBank/GOSTrocks/src/GOSTrocks/rasterMisc.py
</span><span style="color:rgb(187, 0, 0)">Type:</span><span>      function</span></code></pre></div></div></div></div><div id="iKtWFueVDk" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">out_travel = join(&quot;..&quot;, &quot;data&quot;, f&quot;{iso.upper()}_2020_motorized_friction_surface.tif&quot;)
surface, surface_meta = rMisc.clipRaster(
    src_travel, gdf, outFile=out_travel, crop=False
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="B_E_QJYcTzT_ai2nuOqwV" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="zvWB1eWcMs" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">fig, ax = plt.subplots(1, 1, figsize=(8, 8))
show(surface, norm=colors.PowerNorm(gamma=0.2), cmap=&quot;magma&quot;, ax=ax)
plt.axis(&quot;off&quot;)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="S5_8b3vOeoCsing2H3vH_" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>(np.float64(-0.5), np.float64(534.5), np.float64(772.5), np.float64(-0.5))</span></code></div><div data-name="safe-output-image"><img src="GOSTrocks/build/e7487c18cf067cd965bfe5ef5215b4a6.png" alt="&lt;Figure size 800x800 with 1 Axes&gt;"/></div></div></div><div id="Zszm85psPG" class="myst-jp-nb-block relative group/block"><h3 id="standardize-rasters" class="relative group"><span class="heading-text">Standardize Rasters</span><a class="no-underline text-inherit hover:text-inherit inline-block w-0 px-0 translate-x-[10px] font-normal select-none transition-opacity opacity-0 focus:opacity-100 group-hover:opacity-70" href="#standardize-rasters" title="Link to this Section" aria-label="Link to this Section">¶</a></h3></div><div id="ZIc3nVYDkn" class="myst-jp-nb-block relative group/block"><p>Align the population raster to the friction surface, ensuring that they have the same extent and resolution.</p></div><div id="SomJdJ5MIB" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">rMisc.standardizeInputRasters?</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="r-qudHMQO-Dga_Qv73tTj" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-stream"><div><pre class="myst-jp-stream-output text-sm font-thin font-system"><code><span style="color:rgb(187, 0, 0)">Signature:</span><span>
</span><span>rMisc</span><span style="color:rgb(0, 0, 187)">.</span><span>standardizeInputRasters</span><span style="color:rgb(0, 0, 187)">(</span><span>
</span><span>    </span><span>inR1</span><span style="color:rgb(0, 0, 187)">,</span><span>
</span><span>    </span><span>inR2</span><span style="color:rgb(0, 0, 187)">,</span><span>
</span><span>    </span><span>inR1_outFile</span><span style="color:rgb(0, 0, 187)">=</span><span style="color:rgb(0, 0, 187)">&#x27;&#x27;</span><span style="color:rgb(0, 0, 187)">,</span><span>
</span><span>    </span><span>resampling_type</span><span style="color:rgb(0, 0, 187)">=</span><span style="color:rgb(0, 0, 187)">&#x27;nearest&#x27;</span><span style="color:rgb(0, 0, 187)">,</span><span>
</span><span style="color:rgb(0, 0, 187)">)</span><span>
</span><span style="color:rgb(187, 0, 0)">Docstring:</span><span>
Standardize inR1 to inR2: changes crs, extent, and resolution.

:param inR1: rasterio object for raster to be modified
:type inR1: rasterio.DatasetReader
:param inR2: rasterio object to be standardized to
:type inR12 rasterio.DatasetReader
:param inR1_outfile: path to create output raster file of standardized inR1, default is &#x27;&#x27;, which means nothing is written
:type inR1: string
:param resampling_type: how to perform spatial resampling; options are nearest (default), cubic, or sum
:type resampling_type: string
:return: array of numpy array, and rasterio metadata
:rtype: array
</span><span style="color:rgb(187, 0, 0)">File:</span><span>      ~/Documents/WorldBank/GOSTrocks/src/GOSTrocks/rasterMisc.py
</span><span style="color:rgb(187, 0, 0)">Type:</span><span>      function</span></code></pre></div></div></div></div><div id="sYGOwVCZMn" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">src_travel_clipped = rio.open(out_travel)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="qmFQv02KAu6ecPTDMlqzN" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="OMbSU7nghN" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pop_std, pop_meta = rMisc.standardizeInputRasters(
    src_pop, src_travel_clipped, resampling_type=&quot;nearest&quot;
)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Nh-OlXYDalO5akyfOo7t9" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="ofoXpyGtGq" class="myst-jp-nb-block relative group/block"><p>Original population raster metadata:</p></div><div id="jHhVwZEjsW" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">src_pop.meta</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="gDupmHhL4-2V4dx4RYVL0" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>{&#x27;driver&#x27;: &#x27;GTiff&#x27;,
 &#x27;dtype&#x27;: &#x27;float32&#x27;,
 &#x27;nodata&#x27;: -99999.0,
 &#x27;width&#x27;: 533,
 &#x27;height&#x27;: 773,
 &#x27;count&#x27;: 1,
 &#x27;crs&#x27;: CRS.from_wkt(&#x27;GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AXIS[&quot;Latitude&quot;,NORTH],AXIS[&quot;Longitude&quot;,EAST],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]&#x27;),
 &#x27;transform&#x27;: Affine(0.0083333333, 0.0, -3.251249987361092,
        0.0, -0.0083333333, 11.174583493482885)}</span></code></div></div></div><div id="VNXcJdLtHP" class="myst-jp-nb-block relative group/block"><p>New population metadata aligned with travel surface:</p></div><div id="R8gu75prxy" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">pop_meta, surface_meta</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="Zi8PwoHNgzBlBMXvnHsi2" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left mb-5"><div data-name="safe-output-text" class="font-mono text-sm whitespace-pre-wrap myst-jp-safe-output-text"><code><span>({&#x27;driver&#x27;: &#x27;GTiff&#x27;,
  &#x27;dtype&#x27;: &#x27;float32&#x27;,
  &#x27;nodata&#x27;: -99999.0,
  &#x27;width&#x27;: 535,
  &#x27;height&#x27;: 773,
  &#x27;count&#x27;: 1,
  &#x27;crs&#x27;: CRS.from_wkt(&#x27;GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AXIS[&quot;Latitude&quot;,NORTH],AXIS[&quot;Longitude&quot;,EAST],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]&#x27;),
  &#x27;transform&#x27;: Affine(0.008333333333333333, 0.0, -3.2583333333333258,
         0.0, -0.008333333333333333, 11.174999999999997)},
 {&#x27;driver&#x27;: &#x27;GTiff&#x27;,
  &#x27;dtype&#x27;: &#x27;float32&#x27;,
  &#x27;nodata&#x27;: -9999.0,
  &#x27;width&#x27;: 535,
  &#x27;height&#x27;: 773,
  &#x27;count&#x27;: 1,
  &#x27;crs&#x27;: CRS.from_wkt(&#x27;GEOGCS[&quot;WGS 84&quot;,DATUM[&quot;WGS_1984&quot;,SPHEROID[&quot;WGS 84&quot;,6378137,298.257223563,AUTHORITY[&quot;EPSG&quot;,&quot;7030&quot;]],AUTHORITY[&quot;EPSG&quot;,&quot;6326&quot;]],PRIMEM[&quot;Greenwich&quot;,0,AUTHORITY[&quot;EPSG&quot;,&quot;8901&quot;]],UNIT[&quot;degree&quot;,0.0174532925199433,AUTHORITY[&quot;EPSG&quot;,&quot;9122&quot;]],AXIS[&quot;Latitude&quot;,NORTH],AXIS[&quot;Longitude&quot;,EAST],AUTHORITY[&quot;EPSG&quot;,&quot;4326&quot;]]&#x27;),
  &#x27;transform&#x27;: Affine(0.008333333333333333, 0.0, -3.2583333333333258,
         0.0, -0.008333333333333333, 11.174999999999997)})</span></code></div></div></div><div id="b1XTlh8vea" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">src_pop.close()
src_travel.close()
src_travel_clipped.close()</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="vwQfZdtY5wa9TGDuR3yb1" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div id="cJYFlpeQvf" class="myst-jp-nb-block relative group/block"><div class="myst-jp-nb-block-spinner flex sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:hidden"><div class="flex absolute top-0 right-0"></div></div><div class="myst-jp-nb-block sticky top-[115px] z-10 opacity-90 group-hover/block:opacity-100 group-hover/block:flex"><div class="absolute -top-[12px] right-0 flex flex-row rounded bg-white dark:bg-slate-800"></div></div><div class="relative myst-code group not-prose my-5 text-sm shadow hover:shadow-md dark:shadow-2xl dark:shadow-neutral-900 border border-l-4 border-gray-200 border-l-blue-400 dark:border-l-blue-400 dark:border-gray-800"><pre class="block overflow-auto p-3 myst-code-body hljs" style="background-color:unset"><code class="language-python" style="white-space:pre">os.remove(out_travel)
os.remove(wp_path)</code></pre><button title="Copy to Clipboard" class="inline-flex items-center opacity-0 group-hover:opacity-100 hover:opacity-100 focus:opacity-100 active:opacity-100 cursor-pointer ml-2 transition-color duration-200 ease-in-out text-blue-400 hover:text-blue-500 absolute right-1 myst-code-copy-icon top-1" aria-pressed="false" aria-label="Copy code to clipboard"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="24" height="24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></button></div><div data-name="outputs-container" data-mdast-node-id="VSp907DbrTB4OzXlsADh3" class="max-w-full overflow-y-visible overflow-x-auto m-0 group not-prose relative text-left"></div></div><div class="myst-backmatter-parts"></div><div class="myst-footer-links flex pt-10 mb-10 space-x-4"><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-prev" href="/GOSTrocks/api/shapemisc"><div class="flex h-full align-middle"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:-translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"></path></svg><div class="flex-grow text-right"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Function Reference</div>shapeMisc</div></div></a><a class="myst-footer-link flex-1 block p-4 font-normal text-gray-600 no-underline border border-gray-200 rounded shadow-sm group hover:border-blue-600 dark:hover:border-blue-400 hover:text-blue-600 dark:hover:text-blue-400 dark:text-gray-100 dark:border-gray-500 hover:shadow-lg dark:shadow-neutral-700 myst-footer-link-next" href="/GOSTrocks/contributing"><div class="flex h-full align-middle"><div class="flex-grow"><div class="myst-footer-link-group text-xs text-gray-500 dark:text-gray-400">Examples</div>Contributing</div><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon" width="1.5rem" height="1.5rem" class="myst-footer-link-icon self-center transition-transform group-hover:translate-x-1 shrink-0"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"></path></svg></div></a></div></article></main><script>((a,l)=>{if(!window.history.state||!window.history.state.key){let u=Math.random().toString(32).slice(2);window.history.replaceState({key:u},"")}try{let d=JSON.parse(sessionStorage.getItem(a)||"{}")[l||window.history.state.key];typeof d=="number"&&window.scrollTo(0,d)}catch(u){console.error(u),sessionStorage.removeItem(a)}})("positions", null)</script><link rel="modulepreload" href="GOSTrocks/build/entry.client-PCJPW7TK.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-AQ2CODAG.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-JJXTQVMA.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-OZE3FFNP.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-OYMW4E3D.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-C4DFGG5C.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-J7TUH54J.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-FZ2S7OYD.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-JEM6JXYA.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-34XIY2DH.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-KQM5FBHR.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-OCWQY3HK.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-7HNKBP4B.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-CUKUDK3R.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-3EBOCCHJ.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-O4VQNZ62.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-4OEDG4JQ.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-GUCIBHGO.js"/><link rel="modulepreload" href="GOSTrocks/build/root-CXYA7X5D.js"/><link rel="modulepreload" href="GOSTrocks/build/_shared/chunk-DATP5P2X.js"/><link rel="modulepreload" href="GOSTrocks/build/routes/$-JRBPULBO.js"/><script>window.__remixContext = {"url":"/examples/gostrocks-usage","state":{"loaderData":{"root":{"config":{"version":3,"myst":"1.7.0","options":{"favicon":"GOSTrocks/build/favicon-f8b9b1cf1696f605c0f3ac7dac7c18dd.ico","logo":"GOSTrocks/build/logo-a6420df6f6f2e7e663381e87d08f3ee5.png","folders":true},"parts":{"primary_sidebar_footer":{"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"comment","value":" Intentionally left blank to hide the default \"Made with MyST\" footer. ","key":"zv7L5TdBlg"}],"key":"jmjKqsnnaV"}],"key":"TDpR9j2nuK"},"frontmatter":{"parts":{},"github":"https://github.com/worldbank/GOSTrocks","source_url":"https://github.com/worldbank/GOSTrocks/blob/main/docs/primary_sidebar_footer.md","edit_url":"https://github.com/worldbank/GOSTrocks/edit/main/docs/primary_sidebar_footer.md"}}},"nav":[],"actions":[],"projects":[{"title":"GOSTrocks!","github":"https://github.com/worldbank/GOSTrocks","toc":[{"file":"README.md"},{"children":[{"file":"api/dataMisc.md"},{"file":"api/ghslMisc.md"},{"file":"api/mapMisc.md"},{"file":"api/misc.md"},{"file":"api/ntlMisc.md"},{"file":"api/osmMisc.md"},{"file":"api/rasterMisc.md"},{"file":"api/shapeMisc.md"}],"title":"Function Reference"},{"children":[{"file":"examples/GOSTrocks_Usage.ipynb"}],"title":"Examples"},{"children":[{"file":"CODE_OF_CONDUCT.md"}],"file":"CONTRIBUTING.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Function Reference"},{"slug":"api.datamisc","title":"dataMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.ghslmisc","title":"ghslMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.mapmisc","title":"mapMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.misc","title":"misc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.ntlmisc","title":"ntlMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.osmmisc","title":"osmMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.rastermisc","title":"rasterMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.shapemisc","title":"shapeMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Examples"},{"slug":"examples.gostrocks-usage","title":"GOSTrocks Primer","description":"","date":"","thumbnail":"GOSTrocks/build/7e2db436150c38a00650f96925aa5581.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"contributing","title":"Contributing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"code-of-conduct","title":"Contributor Covenant Code of Conduct","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"CONTENT_CDN_PORT":"3100","MODE":"static","BASE_URL":"GOSTrocks"},"routes/$":{"config":{"version":3,"myst":"1.7.0","options":{"favicon":"GOSTrocks/build/favicon-f8b9b1cf1696f605c0f3ac7dac7c18dd.ico","logo":"GOSTrocks/build/logo-a6420df6f6f2e7e663381e87d08f3ee5.png","folders":true},"parts":{"primary_sidebar_footer":{"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"comment","value":" Intentionally left blank to hide the default \"Made with MyST\" footer. ","key":"zv7L5TdBlg"}],"key":"jmjKqsnnaV"}],"key":"TDpR9j2nuK"},"frontmatter":{"parts":{},"github":"https://github.com/worldbank/GOSTrocks","source_url":"https://github.com/worldbank/GOSTrocks/blob/main/docs/primary_sidebar_footer.md","edit_url":"https://github.com/worldbank/GOSTrocks/edit/main/docs/primary_sidebar_footer.md"}}},"nav":[],"actions":[],"projects":[{"title":"GOSTrocks!","github":"https://github.com/worldbank/GOSTrocks","toc":[{"file":"README.md"},{"children":[{"file":"api/dataMisc.md"},{"file":"api/ghslMisc.md"},{"file":"api/mapMisc.md"},{"file":"api/misc.md"},{"file":"api/ntlMisc.md"},{"file":"api/osmMisc.md"},{"file":"api/rasterMisc.md"},{"file":"api/shapeMisc.md"}],"title":"Function Reference"},{"children":[{"file":"examples/GOSTrocks_Usage.ipynb"}],"title":"Examples"},{"children":[{"file":"CODE_OF_CONDUCT.md"}],"file":"CONTRIBUTING.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Function Reference"},{"slug":"api.datamisc","title":"dataMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.ghslmisc","title":"ghslMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.mapmisc","title":"mapMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.misc","title":"misc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.ntlmisc","title":"ntlMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.osmmisc","title":"osmMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.rastermisc","title":"rasterMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.shapemisc","title":"shapeMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Examples"},{"slug":"examples.gostrocks-usage","title":"GOSTrocks Primer","description":"","date":"","thumbnail":"GOSTrocks/build/7e2db436150c38a00650f96925aa5581.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"contributing","title":"Contributing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"code-of-conduct","title":"Contributor Covenant Code of Conduct","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}]},"page":{"version":3,"kind":"Notebook","sha256":"7a65eb036b470ac1e499961b2048f4e623d5399ca00fe115bf2e8dce8e685078","slug":"examples.gostrocks-usage","location":"/examples/GOSTrocks_Usage.ipynb","dependencies":[],"frontmatter":{"title":"GOSTrocks Primer","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"gostrocks","language":"python"},"github":"https://github.com/worldbank/GOSTrocks","numbering":{"title":{"offset":1}},"source_url":"https://github.com/worldbank/GOSTrocks/blob/main/docs/examples/GOSTrocks_Usage.ipynb","edit_url":"https://github.com/worldbank/GOSTrocks/edit/main/docs/examples/GOSTrocks_Usage.ipynb","thumbnail":"GOSTrocks/build/7e2db436150c38a00650f96925aa5581.svg","exports":[{"format":"ipynb","filename":"GOSTrocks_Usage.ipynb","url":"GOSTrocks/build/GOSTrocks_Usage-7ee9567ca30ae476cf3c4c6affa4527e.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"GOSTrocks is an internal sandbox repository that contains commonly used geospatial functions and operations. This notebooks demonstrates the usage of selected functions.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VBIZdfOlY0"}],"key":"lvBLORJgmN"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"The repository also contains customized code to process specific datasets (GHSL, OpenStreetMap, Nighttime Lights, Fathom). This code is in constant development as project requirements evolve over time.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"urRLTkvISj"}],"key":"W5nzBODzjO"}],"key":"FzMO9p1MMa"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"link","url":"https://colab.research.google.com/github/worldbank/GOSTrocks/blob/glevin_review/docs/examples/GOSTrocks_Usage.ipynb","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"GOSTrocks/build/7e2db436150c38a00650f96925aa5581.svg","alt":"Open in Colab","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nsQH9DbfmV","urlSource":"https://colab.research.google.com/assets/colab-badge.svg"}],"urlSource":"https://colab.research.google.com/github/worldbank/GOSTrocks/blob/glevin_review/docs/examples/GOSTrocks_Usage.ipynb","key":"mtklelTBNM"}],"key":"rfmIzq2nTM"}],"key":"IiGRZa89Y4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Installation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"La3hnm3LND"}],"identifier":"installation","label":"Installation","html_id":"installation","implicit":true,"key":"jvemLBQLCf"}],"key":"Cg22jtihS3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"From PyPI","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QBSzpDDT05"}],"identifier":"from-pypi","label":"From PyPI","html_id":"from-pypi","implicit":true,"key":"zVWK3xzGmK"}],"key":"aEVAEDeNzY"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"pip install GOSTrocks","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"key":"qNUtyfuFSt"}],"key":"TVujxjUDh2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"From Source","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DMgLfXwYFV"}],"identifier":"from-source","label":"From Source","html_id":"from-source","implicit":true,"key":"asmiSxsiwr"}],"key":"lyQgWJy4nx"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"git clone https://github.com/worldbank/GOSTrocks.git\ncd GOSTrocks\npip install .","position":{"start":{"line":1,"column":1},"end":{"line":5,"column":1}},"key":"C1UyIR45gt"}],"key":"UkQLmDWOJc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Import Functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rncHV6iwdG"}],"identifier":"import-functions","label":"Import Functions","html_id":"import-functions","implicit":true,"key":"y8t1WK2S1f"}],"key":"gusu2XNKQ4"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"GOSTrocks is broken down into modules of functions that share common elements.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uGrk9LSy6A"}],"key":"YaYi1O20v7"}],"key":"pMbj8Y4SoC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import GOSTrocks.dataMisc as dMisc  # search and download specific datasets\nimport GOSTrocks.rasterMisc as rMisc  # Raster tools!","key":"RUGnIHFEZH"},{"type":"outputs","id":"Jl70V6W0cBgZc6z7hpmoV","children":[],"key":"VremYvDFt6"}],"key":"OLzO4lZodc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Raster Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UjBSsMflaV"}],"identifier":"raster-example","label":"Raster Example","html_id":"raster-example","implicit":true,"key":"s4g8jFLKXO"}],"key":"QL5L8Cpdcq"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"One of the most recurring workflows is to clip and combine raster data from different sources.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nMw3nf0gQh"}],"key":"EH1TuBLebP"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Here, we work with population data from WorldPop, and a friction surface from the Malaria Atlas Project, using Ghana as our area of interest.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"YdgmwPE0Ob"}],"key":"w9bmG43LSo"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"They are both global datasets with ~1km resolution, so they both need to be clipped and standardized for analysis.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"Z6kFDh4IVu"}],"key":"WIdywGHLrz"},{"type":"paragraph","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"We will use administrative boundaries from the GeoBoundaries API.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"gn2QpamndG"}],"key":"D36akT5OXg"}],"key":"wTT3TjAvE5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nfrom os.path import join, exists\nimport urllib.request\n\nimport rasterio as rio\nfrom rasterio.plot import show\n\nimport matplotlib.pyplot as plt\nimport matplotlib.colors as colors","key":"FTf9AUg9NV"},{"type":"outputs","id":"iZxZzD7Dr-eplS8Gb3zv4","children":[],"key":"n27gsYT3Qn"}],"key":"Dp4jtJstLq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"country = \"Ghana\"\niso = \"GHA\"","key":"tYG2uTy2Fd"},{"type":"outputs","id":"S1ot55IkMqHqa5baIhjfI","children":[],"key":"A66B16d1Db"}],"key":"croY5HFqFR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Boundaries","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L8bbgwG7tU"}],"identifier":"get-boundaries","label":"Get Boundaries","html_id":"get-boundaries","implicit":true,"key":"Jpa0jKUlIw"}],"key":"tCdvTlBhKR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dMisc.get_geoboundaries?","key":"VU9TTZ3Ft9"},{"type":"outputs","id":"A_dpEWhfA9LsCVvkyZVmy","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u001b[0;31mSignature:\u001b[0m\n\u001b[0mdMisc\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mget_geoboundaries\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m    \u001b[0miso3\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m    \u001b[0mlevel\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m    \u001b[0mgeo_api\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'https://www.geoboundaries.org/api/current/gbOpen/{iso3}/{adm}/'\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;31mDocstring:\u001b[0m\nDownload boundaries dataset from geobounadries\n\nParameters\n----------\niso3 : bool\n    ISO3 code of country to download\nlevel : str\n    Admin code to download in format of \"ADM1\" or \"ADM2\"\ngeo_api : str, optional\n    by default \"https://www.geoboundaries.org/api/current/gbOpen/{iso3}/{adm}/\"\n\nReturns\n-------\ngpd.GeoDataFrame\n    spatial data representing the administrative boundaries\n\u001b[0;31mFile:\u001b[0m      ~/Documents/WorldBank/GOSTrocks/src/GOSTrocks/dataMisc.py\n\u001b[0;31mType:\u001b[0m      function"},"children":[],"key":"G69QeQts05"}],"key":"QatZKSLIBe"}],"key":"idf7d5GJAA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"gdf = dMisc.get_geoboundaries(iso, level=\"ADM0\")\ngdf.plot()","key":"u7zHtK4Y4j"},{"type":"outputs","id":"-v_yxefdSuUbGbbdsW-Ga","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":6,"metadata":{},"data":{"text/plain":{"content":"\u003cAxes: \u003e","content_type":"text/plain"}}},"children":[],"key":"w6dlvOptR6"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6eb87cdc77bcb9310180dcc102e8b595","path":"GOSTrocks/build/6eb87cdc77bcb9310180dcc102e8b595.png"},"text/plain":{"content":"\u003cFigure size 640x480 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"ljIehOt4EY"}],"key":"JsppmND3oM"}],"key":"NLsM6aTEiF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Download Population Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mBijC6qjK4"}],"identifier":"download-population-data","label":"Download Population Data","html_id":"download-population-data","implicit":true,"key":"OZMlL0OUTT"}],"key":"LOfdV2kKxW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"wp_url = f\"https://data.worldpop.org/GIS/Population/Global_2000_2020_1km/2020/{iso.upper()}/{iso.lower()}_ppp_2020_1km_Aggregated.tif\"\nwp_url","key":"JeUdRJdXx1"},{"type":"outputs","id":"FTRHyVNZesmYx97zBmJIf","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":7,"metadata":{},"data":{"text/plain":{"content":"'https://data.worldpop.org/GIS/Population/Global_2000_2020_1km/2020/GHA/gha_ppp_2020_1km_Aggregated.tif'","content_type":"text/plain"}}},"children":[],"key":"RhMzpjGzC6"}],"key":"ZlEQOAVmos"}],"key":"hdjLuJEebz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"wp_path = join(\n    \"..\", \"data\", f\"{iso}_ppp_2020_1km_Aggregated_UNadj.tif\"\n)  # Download from link above\nif not exists(wp_path):\n    urllib.request.urlretrieve(wp_url, wp_path)","key":"mPR4TAvkmF"},{"type":"outputs","id":"ZcruIL9SbbvKuNo7niTnp","children":[],"key":"uJLos1duV3"}],"key":"Re3G9BdK14"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"src_pop = rio.open(wp_path)","key":"C6xkYRqol7"},{"type":"outputs","id":"LiRgz3RAjwMyD8ITd5SWX","children":[],"key":"uxUmmKt5T5"}],"key":"Iy2HNW151b"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 1, figsize=(8, 8))\nshow(src_pop, norm=colors.PowerNorm(gamma=0.5), cmap=\"viridis\", ax=ax)\nplt.axis(\"off\")","key":"JJYhkrIjYL"},{"type":"outputs","id":"SLFBx7oSe1MMDWk4Ut-TN","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"(np.float64(-3.251249987361092),\n np.float64(1.190416661538908),\n np.float64(4.732916852582885),\n np.float64(11.174583493482885))","content_type":"text/plain"}}},"children":[],"key":"tK98FNIVb4"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d2c03c81f1e4fa13de08162a37813e6b","path":"GOSTrocks/build/d2c03c81f1e4fa13de08162a37813e6b.png"},"text/plain":{"content":"\u003cFigure size 800x800 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"FHkpzxVmmX"}],"key":"lJnHe0wNYI"}],"key":"yLYvGzwhr3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Clip Global Friction Surface","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E2l9esj2Zp"}],"identifier":"clip-global-friction-surface","label":"Clip Global Friction Surface","html_id":"clip-global-friction-surface","implicit":true,"key":"HHlmGzpPnF"}],"key":"K2AWhGtcHI"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"gfs_path = \"/Users/glevin/Documents/WorldBank/GOSTrocks/2020_motorized_friction_surface.geotiff\"\nsrc_travel = rio.open(gfs_path)","key":"TAxmj8SLeo"},{"type":"outputs","id":"fyHogcNt5H4_LWAFdmfZd","children":[],"key":"wGWjpzMkEo"}],"key":"Vc01xT9YMx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# fig, ax = plt.subplots(1, 1, figsize=(8, 8))\n# show(src_travel, norm=colors.PowerNorm(gamma=0.2), cmap=\"magma\", ax=ax)\n# plt.axis(\"off\")","key":"YgmQd676z5"},{"type":"outputs","id":"UFaVCK2cAGbRtYBK8eTDj","children":[{"type":"output","jupyter_data":{"ename":"KeyboardInterrupt","evalue":"","output_type":"error","traceback":"\u001b[0;31m---------------------------------------------------------------------------\u001b[0m\n\u001b[0;31mKeyboardInterrupt\u001b[0m                         Traceback (most recent call last)\nCell \u001b[0;32mIn[12], line 2\u001b[0m\n\u001b[1;32m      1\u001b[0m fig, ax \u001b[38;5;241m=\u001b[39m plt\u001b[38;5;241m.\u001b[39msubplots(\u001b[38;5;241m1\u001b[39m, \u001b[38;5;241m1\u001b[39m, figsize\u001b[38;5;241m=\u001b[39m(\u001b[38;5;241m8\u001b[39m, \u001b[38;5;241m8\u001b[39m))\n\u001b[0;32m----\u003e 2\u001b[0m \u001b[43mshow\u001b[49m\u001b[43m(\u001b[49m\u001b[43msrc_travel\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mnorm\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43mcolors\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mPowerNorm\u001b[49m\u001b[43m(\u001b[49m\u001b[43mgamma\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[38;5;241;43m0.2\u001b[39;49m\u001b[43m)\u001b[49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mcmap\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[38;5;124;43m\"\u001b[39;49m\u001b[38;5;124;43mmagma\u001b[39;49m\u001b[38;5;124;43m\"\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43max\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[43max\u001b[49m\u001b[43m)\u001b[49m\n\u001b[1;32m      3\u001b[0m plt\u001b[38;5;241m.\u001b[39maxis(\u001b[38;5;124m\"\u001b[39m\u001b[38;5;124moff\u001b[39m\u001b[38;5;124m\"\u001b[39m)\n\nFile \u001b[0;32m/opt/homebrew/Caskroom/miniconda/base/envs/gostrocks/lib/python3.10/site-packages/rasterio/plot.py:90\u001b[0m, in \u001b[0;36mshow\u001b[0;34m(source, with_bounds, contour, contour_label_kws, ax, title, transform, adjust, **kwargs)\u001b[0m\n\u001b[1;32m     87\u001b[0m     kwargs[\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mextent\u001b[39m\u001b[38;5;124m'\u001b[39m] \u001b[38;5;241m=\u001b[39m plotting_extent(source)\n\u001b[1;32m     89\u001b[0m \u001b[38;5;28;01mif\u001b[39;00m source\u001b[38;5;241m.\u001b[39mcount \u001b[38;5;241m==\u001b[39m \u001b[38;5;241m1\u001b[39m:\n\u001b[0;32m---\u003e 90\u001b[0m     arr \u001b[38;5;241m=\u001b[39m \u001b[43msource\u001b[49m\u001b[38;5;241;43m.\u001b[39;49m\u001b[43mread\u001b[49m\u001b[43m(\u001b[49m\u001b[38;5;241;43m1\u001b[39;49m\u001b[43m,\u001b[49m\u001b[43m \u001b[49m\u001b[43mmasked\u001b[49m\u001b[38;5;241;43m=\u001b[39;49m\u001b[38;5;28;43;01mTrue\u001b[39;49;00m\u001b[43m)\u001b[49m\n\u001b[1;32m     91\u001b[0m \u001b[38;5;28;01melse\u001b[39;00m:\n\u001b[1;32m     92\u001b[0m     \u001b[38;5;28;01mtry\u001b[39;00m:\n\u001b[1;32m     93\u001b[0m         \u001b[38;5;66;03m# Lookup table for the color space in the source file.\u001b[39;00m\n\u001b[1;32m     94\u001b[0m         \u001b[38;5;66;03m# This will allow us to re-order it to RGB if needed\u001b[39;00m\n\nFile \u001b[0;32mrasterio/_io.pyx:651\u001b[0m, in \u001b[0;36mrasterio._io.DatasetReaderBase.read\u001b[0;34m()\u001b[0m\n\nFile \u001b[0;32mrasterio/_io.pyx:966\u001b[0m, in \u001b[0;36mrasterio._io.DatasetReaderBase._read\u001b[0;34m()\u001b[0m\n\nFile \u001b[0;32mrasterio/_io.pyx:271\u001b[0m, in \u001b[0;36mrasterio._io.io_multi_mask\u001b[0;34m()\u001b[0m\n\nFile \u001b[0;32m/opt/homebrew/Caskroom/miniconda/base/envs/gostrocks/lib/python3.10/contextlib.py:139\u001b[0m, in \u001b[0;36m_GeneratorContextManager.__exit__\u001b[0;34m(self, typ, value, traceback)\u001b[0m\n\u001b[1;32m    136\u001b[0m     \u001b[38;5;28;01mexcept\u001b[39;00m \u001b[38;5;167;01mStopIteration\u001b[39;00m:\n\u001b[1;32m    137\u001b[0m         \u001b[38;5;28;01mraise\u001b[39;00m \u001b[38;5;167;01mRuntimeError\u001b[39;00m(\u001b[38;5;124m\"\u001b[39m\u001b[38;5;124mgenerator didn\u001b[39m\u001b[38;5;124m'\u001b[39m\u001b[38;5;124mt yield\u001b[39m\u001b[38;5;124m\"\u001b[39m) \u001b[38;5;28;01mfrom\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;28;01mNone\u001b[39;00m\n\u001b[0;32m--\u003e 139\u001b[0m \u001b[38;5;28;01mdef\u001b[39;00m\u001b[38;5;250m \u001b[39m\u001b[38;5;21m__exit__\u001b[39m(\u001b[38;5;28mself\u001b[39m, typ, value, traceback):\n\u001b[1;32m    140\u001b[0m     \u001b[38;5;28;01mif\u001b[39;00m typ \u001b[38;5;129;01mis\u001b[39;00m \u001b[38;5;28;01mNone\u001b[39;00m:\n\u001b[1;32m    141\u001b[0m         \u001b[38;5;28;01mtry\u001b[39;00m:\n\n\u001b[0;31mKeyboardInterrupt\u001b[0m: "},"children":[],"key":"RilsUbAtsg"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ab5f1c4612f469f4be57a2f3bfaba849","path":"GOSTrocks/build/ab5f1c4612f469f4be57a2f3bfaba849.png"},"text/plain":{"content":"\u003cFigure size 800x800 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"HAtnMhxLBO"}],"key":"hPyT3N74V4"}],"key":"IPSjFQYnMR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"rMisc.clipRaster?","key":"yPy1O28KA2"},{"type":"outputs","id":"B35o8CeeYw8wDYL8khaFq","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u001b[0;31mSignature:\u001b[0m \u001b[0mrMisc\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mclipRaster\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0minR\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0minD\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0moutFile\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mNone\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcrop\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mTrue\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;31mDocstring:\u001b[0m\nClip input raster to provided geodataframe\n\nParameters\n----------\ninR : rasterio.DatasetReader\n    Input raster to clip\ninD : geopandas.GeoDataFrame\n    GeoDataFrame containing the clipping geometry\noutFile : str, optional\n    File to write the clipped raster to, by default None\ncrop : bool, optional\n    Whether to crop the raster to the unary_union of the GeoDataFrame (True) or to the bounding box (False), by default True\n\nReturns\n-------\ntuple\n    A tuple containing the clipped raster and its metadata.\n\u001b[0;31mFile:\u001b[0m      ~/Documents/WorldBank/GOSTrocks/src/GOSTrocks/rasterMisc.py\n\u001b[0;31mType:\u001b[0m      function"},"children":[],"key":"ghcb33f4zS"}],"key":"s0318ml5LR"}],"key":"SJR7Htsjoa"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"out_travel = join(\"..\", \"data\", f\"{iso.upper()}_2020_motorized_friction_surface.tif\")\nsurface, surface_meta = rMisc.clipRaster(\n    src_travel, gdf, outFile=out_travel, crop=False\n)","key":"R8BbfH62pw"},{"type":"outputs","id":"B_E_QJYcTzT_ai2nuOqwV","children":[],"key":"VOl4zxpNB5"}],"key":"iKtWFueVDk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"fig, ax = plt.subplots(1, 1, figsize=(8, 8))\nshow(surface, norm=colors.PowerNorm(gamma=0.2), cmap=\"magma\", ax=ax)\nplt.axis(\"off\")","key":"JxdqVKFX2b"},{"type":"outputs","id":"S5_8b3vOeoCsing2H3vH_","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":15,"metadata":{},"data":{"text/plain":{"content":"(np.float64(-0.5), np.float64(534.5), np.float64(772.5), np.float64(-0.5))","content_type":"text/plain"}}},"children":[],"key":"WXEcMFPLuC"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"e7487c18cf067cd965bfe5ef5215b4a6","path":"GOSTrocks/build/e7487c18cf067cd965bfe5ef5215b4a6.png"},"text/plain":{"content":"\u003cFigure size 800x800 with 1 Axes\u003e","content_type":"text/plain"}}},"children":[],"key":"ts9g3pNUT6"}],"key":"UQTr594oah"}],"key":"zvWB1eWcMs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Standardize Rasters","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IG73hfUtwZ"}],"identifier":"standardize-rasters","label":"Standardize Rasters","html_id":"standardize-rasters","implicit":true,"key":"d3FIjXSPhs"}],"key":"Zszm85psPG"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Align the population raster to the friction surface, ensuring that they have the same extent and resolution.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wm11lKksaG"}],"key":"VUJo7dns1g"}],"key":"ZIc3nVYDkn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"rMisc.standardizeInputRasters?","key":"JgWuwnVGDI"},{"type":"outputs","id":"r-qudHMQO-Dga_Qv73tTj","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u001b[0;31mSignature:\u001b[0m\n\u001b[0mrMisc\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mstandardizeInputRasters\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m    \u001b[0minR1\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m    \u001b[0minR2\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m    \u001b[0minR1_outFile\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m''\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m    \u001b[0mresampling_type\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m'nearest'\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\n\u001b[0;34m\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;31mDocstring:\u001b[0m\nStandardize inR1 to inR2: changes crs, extent, and resolution.\n\n:param inR1: rasterio object for raster to be modified\n:type inR1: rasterio.DatasetReader\n:param inR2: rasterio object to be standardized to\n:type inR12 rasterio.DatasetReader\n:param inR1_outfile: path to create output raster file of standardized inR1, default is '', which means nothing is written\n:type inR1: string\n:param resampling_type: how to perform spatial resampling; options are nearest (default), cubic, or sum\n:type resampling_type: string\n:return: array of numpy array, and rasterio metadata\n:rtype: array\n\u001b[0;31mFile:\u001b[0m      ~/Documents/WorldBank/GOSTrocks/src/GOSTrocks/rasterMisc.py\n\u001b[0;31mType:\u001b[0m      function"},"children":[],"key":"Zr7PBxPAdH"}],"key":"afZIZ5b70p"}],"key":"SomJdJ5MIB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"src_travel_clipped = rio.open(out_travel)","key":"s5xOdeNcS6"},{"type":"outputs","id":"qmFQv02KAu6ecPTDMlqzN","children":[],"key":"GmL49l3ZSp"}],"key":"sYGOwVCZMn"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pop_std, pop_meta = rMisc.standardizeInputRasters(\n    src_pop, src_travel_clipped, resampling_type=\"nearest\"\n)","key":"cwKHDmuNwW"},{"type":"outputs","id":"Nh-OlXYDalO5akyfOo7t9","children":[],"key":"FdkqkGyvZO"}],"key":"OMbSU7nghN"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Original population raster metadata:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z3YXgyVhjz"}],"key":"QqPDyVAwLf"}],"key":"ofoXpyGtGq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"src_pop.meta","key":"jeLNs2SP1p"},{"type":"outputs","id":"gDupmHhL4-2V4dx4RYVL0","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/plain":{"content":"{'driver': 'GTiff',\n 'dtype': 'float32',\n 'nodata': -99999.0,\n 'width': 533,\n 'height': 773,\n 'count': 1,\n 'crs': CRS.from_wkt('GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AXIS[\"Latitude\",NORTH],AXIS[\"Longitude\",EAST],AUTHORITY[\"EPSG\",\"4326\"]]'),\n 'transform': Affine(0.0083333333, 0.0, -3.251249987361092,\n        0.0, -0.0083333333, 11.174583493482885)}","content_type":"text/plain"}}},"children":[],"key":"jE698qg6tP"}],"key":"OQWQRJvPiy"}],"key":"jHhVwZEjsW"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"New population metadata aligned with travel surface:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZuqcplmmPO"}],"key":"wdTeGgun9O"}],"key":"VNXcJdLtHP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"pop_meta, surface_meta","key":"eGrnYZtLMP"},{"type":"outputs","id":"Zi8PwoHNgzBlBMXvnHsi2","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/plain":{"content":"({'driver': 'GTiff',\n  'dtype': 'float32',\n  'nodata': -99999.0,\n  'width': 535,\n  'height': 773,\n  'count': 1,\n  'crs': CRS.from_wkt('GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AXIS[\"Latitude\",NORTH],AXIS[\"Longitude\",EAST],AUTHORITY[\"EPSG\",\"4326\"]]'),\n  'transform': Affine(0.008333333333333333, 0.0, -3.2583333333333258,\n         0.0, -0.008333333333333333, 11.174999999999997)},\n {'driver': 'GTiff',\n  'dtype': 'float32',\n  'nodata': -9999.0,\n  'width': 535,\n  'height': 773,\n  'count': 1,\n  'crs': CRS.from_wkt('GEOGCS[\"WGS 84\",DATUM[\"WGS_1984\",SPHEROID[\"WGS 84\",6378137,298.257223563,AUTHORITY[\"EPSG\",\"7030\"]],AUTHORITY[\"EPSG\",\"6326\"]],PRIMEM[\"Greenwich\",0,AUTHORITY[\"EPSG\",\"8901\"]],UNIT[\"degree\",0.0174532925199433,AUTHORITY[\"EPSG\",\"9122\"]],AXIS[\"Latitude\",NORTH],AXIS[\"Longitude\",EAST],AUTHORITY[\"EPSG\",\"4326\"]]'),\n  'transform': Affine(0.008333333333333333, 0.0, -3.2583333333333258,\n         0.0, -0.008333333333333333, 11.174999999999997)})","content_type":"text/plain"}}},"children":[],"key":"TRNZD6T0qD"}],"key":"ZNijVyndx3"}],"key":"R8gu75prxy"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"src_pop.close()\nsrc_travel.close()\nsrc_travel_clipped.close()","key":"cOhPD2TZO8"},{"type":"outputs","id":"vwQfZdtY5wa9TGDuR3yb1","children":[],"key":"waUDh2mJAj"}],"key":"b1XTlh8vea"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.remove(out_travel)\nos.remove(wp_path)","key":"UkVEsXAbPc"},{"type":"outputs","id":"VSp907DbrTB4OzXlsADh3","children":[],"key":"KYReU19L0Z"}],"key":"cJYFlpeQvf"}],"key":"Jkho9jOzGL"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"shapeMisc","url":"/api/shapemisc","group":"Function Reference"},"next":{"title":"Contributing","url":"/contributing","group":"Examples"}}},"domain":"http://localhost:3000"},"project":{"title":"GOSTrocks!","github":"https://github.com/worldbank/GOSTrocks","toc":[{"file":"README.md"},{"children":[{"file":"api/dataMisc.md"},{"file":"api/ghslMisc.md"},{"file":"api/mapMisc.md"},{"file":"api/misc.md"},{"file":"api/ntlMisc.md"},{"file":"api/osmMisc.md"},{"file":"api/rasterMisc.md"},{"file":"api/shapeMisc.md"}],"title":"Function Reference"},{"children":[{"file":"examples/GOSTrocks_Usage.ipynb"}],"title":"Examples"},{"children":[{"file":"CODE_OF_CONDUCT.md"}],"file":"CONTRIBUTING.md"}],"exports":[],"bibliography":[],"index":"index","pages":[{"level":1,"title":"Function Reference"},{"slug":"api.datamisc","title":"dataMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.ghslmisc","title":"ghslMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.mapmisc","title":"mapMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.misc","title":"misc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.ntlmisc","title":"ntlMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.osmmisc","title":"osmMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.rastermisc","title":"rasterMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"api.shapemisc","title":"shapeMisc","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"level":1,"title":"Examples"},{"slug":"examples.gostrocks-usage","title":"GOSTrocks Primer","description":"","date":"","thumbnail":"GOSTrocks/build/7e2db436150c38a00650f96925aa5581.svg","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2},{"slug":"contributing","title":"Contributing","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":1},{"slug":"code-of-conduct","title":"Contributor Covenant Code of Conduct","description":"","date":"","thumbnail":"","thumbnailOptimized":"","banner":"","bannerOptimized":"","tags":[],"level":2}]}}},"actionData":null,"errors":null},"future":{"unstable_dev":false,"unstable_postcss":false,"unstable_tailwind":false,"v2_errorBoundary":true,"v2_headers":true,"v2_meta":true,"v2_normalizeFormMethod":true,"v2_routeConvention":true}};</script><script type="module" async="">import "GOSTrocks/build/manifest-86A905A4.js";
import * as route0 from "GOSTrocks/build/root-CXYA7X5D.js";
import * as route1 from "GOSTrocks/build/routes/$-JRBPULBO.js";
window.__remixRouteModules = {"root":route0,"routes/$":route1};

import("GOSTrocks/build/entry.client-PCJPW7TK.js");</script></body></html>